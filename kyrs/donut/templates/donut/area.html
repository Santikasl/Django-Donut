<!doctype html>
{% extends 'donut/title.html' %}
{% load static %}
{% block head %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/titels.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/area.css' %}"/>
    <link rel="shortcut icon" href="{% static 'img/icon.png' %}" type="image/x-icon">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
          rel="stylesheet">
    <script src="http://code.jquery.com/jquery-2.0.2.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <title>Document</title>
</head>
{% endblock %}


{% block name %}
{% if request.user.is_authenticated %}
<div class="nic">
    <p style="color:white; font-family: Organetto-Variable;font-size:50px; margin-top: 50px">
        {{ request.user.username }}</p>
</div>
{% endif %}

<div class="logo">


    <img src="{{ cUser.img.url }}" alt="" width="150px">


</div>
<div class="file-upload ">
    <form action="" enctype="multipart/form-data" method="post">
        {% csrf_token %}
        <div class="example-1">
            <div class="form-group">
                <label class="label">
                    <svg class="svg" style="width:100px;height:100px" viewBox="0 0 24 24">
                        <path fill="currentColor"
                              d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"/>
                    </svg>

                    <!--                    <img class="svg" src="{% static 'img/logo-icon.png' %}" alt="">-->

                    <!--                    <input name="img" type="file" accept="image/jpeg,image/png" onchange="this.form.submit()">-->
                    {{ form.img }}

                </label>
            </div>
        </div>
    </form>
</div>

<div class="post no-bootstrap">


    <p style="color: white; font-family: Organetto-Variable; font-size: 30px">{{ cUser.count_posts }} постов</p>
    <p style="color: white; font-family: Organetto-Variable; font-size: 30px;padding-left: 35px">{{ cUser.followers }}
        отслеживают</p>
    <p style="color: white; font-family: Organetto-Variable; font-size:30px;padding-left: 35px">{{ cUser.likes }}
        лайков</p>

    <a class="edit" href="edit.html">Редактировать</a>

    <nav class="three">


        <ul class="topmenu">

            <li><a class="as" href="#">. . .<i class=""></i></a>
                <ul class="submenu">
                    <li><a class="as2" href="">Сменить пароль</a></li>
                    <li><a class="as2 as3" href="{% url 'exit' %}?next=/">Выйти</a></li>
                </ul>
            </li>

        </ul>
    </nav>


</div>

<div class="main-content2">

    {% for posts in ppp %}
    <div class="photo">
        <img class="zoom" src="{{ posts.img.url }}" alt="" width="300px" height="380px" style=" border-radius: 30px;">
        <div data-toggle="modal" data-target="#exampleModalCenter{{ posts.id }}" class="content fade button2">
            <p>Описание:</p>
            <p>{{ posts.description }}</p>
            <input id="toggle-heart" type="checkbox"/>
            <label for="toggle-heart" aria-label="like">❤ 199</label>
        </div>
    </div>


    <div class="modal fade" id="exampleModalCenter{{ posts.id }}" tabindex="-1" role="dialog"
         aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    {{ posts.description }}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>


    {% endfor %}

</div>





<script>
    (function () {

        'use strict';

        $('.input-file').each(function () {
            var $input = $(this),
                $label = $input.next('.js-labelFile'),
                labelVal = $label.html();

            $input.on('change', function (element) {
                var fileName = '';
                if (element.target.value) fileName = element.target.value.split('\\').pop();
                fileName ? $label.addClass('has-file').find('.js-fileName').html(fileName) : $label.removeClass('has-file').html(labelVal);
            });
        });

    })();
</script>



{% endblock %}